{% extends "base.html" %}

{% block title %}login{% endblock %}

{% block headcontent %}
{{ super() }}
<script type="text/javascript">
function onSignIn(googleUser) {
  var id_token = googleUser.getAuthResponse().id_token;
  document.getElementById("token").value = id_token;
  document.getElementById("loginform").submit();
}
</script>
{% endblock %}

{% block content %}
<form id="loginform" action="/login" method="POST" style="display: none;">
    <div class="field has-addons">
        <div class="control">
            <input id="token" class="input" type="text" name="token"/>
        </div>
        <div class="control">
            <input class="button is-outlined" type="submit" name="login" value="Login"/>
        </div>
    </div>  
</form>


<div class="g-signin2" data-onsuccess="onSignIn"></div>
{% endblock %}